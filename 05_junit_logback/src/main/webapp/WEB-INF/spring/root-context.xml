<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd">
	
	<!-- Root Context: defines shared resources visible to all other web components -->
		
    <bean class="com.zaxxer.hikari.HikariConfig"
          id="hikariConfig"
          scope="singleton">
      <property name="driverClassName" value="oracle.jdbc.OracleDriver"/>
      <property name="jdbcUrl" value="jdbc:oracle:thin:@localhost:1521:xe"/>
      <property name="username" value="GD"/>
      <property name="password" value="1111"/>
    </bean>
    
    <bean class="com.zaxxer.hikari.HikariDataSource"
          id="hikariDataSource"
          scope="singleton">
      <constructor-arg ref="hikariConfig"/>
    </bean>
    
    <bean class="org.mybatis.spring.SqlSessionFactoryBean"
          id="sqlSessionFactoryBean"
          scope="singletone">
      <property name="dataSource" ref="hikariDataSource"/>
      <property name="configLocation" value="con/gdu/prj05/mybatis/config/mybatis-config.xml"/> <!-- mybatis-config 파일의 이름과 경로를 묻는다! -->
      <!-- 경로를 구성할땐 .을 쓰면 안된다. 왜냐하면 mybatis-config이 패키지인지 파일인지 구분하기 어려움.-->
      <property name="mapperLocations" value="com/gdu/prj05/mybatis/mapper/*.xml"/>
      <!-- mapper는 여러개가 나올 수 있기 때문에 mapperLocations이다. -->
      <!-- 그러면 value에 값을 어떻게 여러개 넣지? -> mapper 다음으로 모든 xml 파일이란 뜻으로 *사용. -->
    </bean>
    
    <bean class="org.mybatis.spring.SqlSessionTemplate"
          id="sqlSessionTemplate"
          scope="singletone">
      <constructor-arg ref="sqlSessionFactoryBean"/>
    </bean>


</beans>
